<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio | Data Scientist</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <script type="module" src="https://unpkg.com/ionicons@7/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7/dist/ionicons/ionicons.js"></script>

  <style>
    /* --- VARIABLES --- */
    :root {
      --navy: #0a192f;
      --light-navy: #112240;
      --lightest-navy: #233554;
      --slate: #8892b0;
      --light-slate: #a8b2d1;
      --white: #e6f1ff;
      --green: #64ffda;
      --green-tint: rgba(100, 255, 218, 0.1);
      
      --font-sans: 'Inter', sans-serif;
      --font-mono: 'Fira Code', monospace;
      --transition: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);
    }

    /* --- RESET --- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body { background-color: var(--navy); color: var(--slate); font-family: var(--font-sans); line-height: 1.6; font-size: 16px; }
    a { text-decoration: none; color: inherit; transition: var(--transition); }
    ul { list-style: none; }
    button { cursor: pointer; border: none; background: none; font-family: inherit; }
    img { display: block; max-width: 100%; }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--navy); }
    ::-webkit-scrollbar-thumb { background: var(--lightest-navy); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--green); }

    /* --- HERO SECTION --- */
    .hero-section {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background-color: var(--navy); display: flex; align-items: center; justify-content: center;
      z-index: 0; padding: 0 5%;
    }
    .hero-content { 
      display: flex; align-items: center; justify-content: space-between; 
      width: 100%; max-width: 1400px; gap: 60px; 
    }
    .hero-text { flex: 1; max-width: 650px; }
    .hero-subtitle { color: var(--green); font-family: var(--font-mono); font-weight: 700; font-size: 13px; margin-bottom: 20px; letter-spacing: 1px; text-transform: uppercase; }
    .hero-name { font-size: clamp(40px, 6vw, 75px); color: var(--white); font-weight: 800; line-height: 1.1; margin-bottom: 15px; }
    .hero-role { font-size: 18px; color: var(--slate); font-weight: 600; margin-bottom: 15px; }
    .hero-desc { font-size: 16px; color: var(--slate); margin-bottom: 30px; line-height: 1.6; }

    /* Expertise Tags */
    .expertise-label { color: var(--white); font-weight: 700; font-size: 14px; margin-bottom: 10px; display: block; }
    .hero-tags { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 40px; }
    .h-tag { border: 1px solid var(--green); color: var(--green); background: var(--green-tint); padding: 6px 16px; border-radius: 20px; font-size: 13px; font-family: var(--font-sans); }
    .h-tag::before { content: "#"; margin-right: 2px; }

    /* Buttons */
    .hero-btns { display: flex; gap: 15px; align-items: center; margin-bottom: 30px; }
    .btn-primary { background: var(--green); color: #0a192f; padding: 12px 28px; border-radius: 4px; font-weight: 600; font-size: 14px; display: inline-flex; align-items: center; gap: 8px; }
    .btn-primary:hover { opacity: 0.9; transform: translateY(-2px); }
    .btn-secondary { border: 1px solid var(--lightest-navy); color: var(--white); padding: 12px 24px; border-radius: 4px; font-weight: 500; font-size: 14px; display: inline-flex; align-items: center; gap: 8px; }
    .btn-secondary:hover { border-color: var(--green); color: var(--green); }

    /* Small Socials */
    .hero-mini-socials { display: flex; gap: 20px; }
    .hero-mini-socials a { color: var(--slate); font-size: 20px; transition: var(--transition); }
    .hero-mini-socials a:hover { color: var(--green); transform: translateY(-2px); }

    /* Hero Image */
    .hero-image-wrapper { position: relative; flex-shrink: 0; }
    .img-backdrop { position: absolute; top: 20px; right: -20px; width: 100%; height: 100%; background: var(--lightest-navy); border-radius: 20px; z-index: -1; opacity: 0.5; }
    .hero-img-box { width: 380px; height: 480px; background: var(--light-navy); border-radius: 20px; overflow: hidden; position: relative; }
    .hero-img-box img { width: 100%; height: 100%; object-fit: cover; }

    .scroll-down { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); color: var(--slate); font-size: 12px; display: flex; flex-direction: column; align-items: center; gap: 5px; animation: bounce 2s infinite; }
    @keyframes bounce { 0%, 100% {transform:translate(-50%, 0);} 50% {transform:translate(-50%, 10px);} }


    /* --- MAIN LAYOUT --- */
    .main-wrapper { position: relative; z-index: 10; margin-top: 100vh; background: var(--navy); min-height: 100vh; box-shadow: 0 -20px 30px rgba(0,0,0,0.5); }
    .container { max-width: 1400px; margin: 0 auto; padding: 80px 20px; display: flex; gap: 40px; }

    /* Sidebar */
    .sidebar { width: 300px; flex-shrink: 0; position: sticky; top: 30px; height: fit-content; background: var(--light-navy); border-radius: 6px; padding: 30px; text-align: center; border: 1px solid var(--lightest-navy); }
    .sidebar-img { width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 15px; border: 2px solid var(--green); object-fit: cover; }
    .sidebar h2 { color: var(--white); font-size: 1.4rem; font-weight: 700; margin-bottom: 5px; }
    .sidebar-role { color: var(--green); font-family: var(--font-mono); font-size: 0.8rem; margin-bottom: 25px; display: block; }
    .contact-info { text-align: left; margin-top: 20px; font-size: 0.9rem; }
    .c-item { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
    .c-item ion-icon { color: var(--green); font-size: 1.1rem; }
    .socials { display: flex; justify-content: center; gap: 15px; margin-top: 25px; padding-top: 20px; border-top: 1px solid var(--lightest-navy); }
    .socials a { color: var(--light-slate); font-size: 1.3rem; }
    .socials a:hover { color: var(--green); transform: translateY(-3px); }

    /* Content */
    .content { flex: 1; min-width: 0; }
    .navbar { position: sticky; top: 0; z-index: 50; background: rgba(10, 25, 47, 0.95); backdrop-filter: blur(10px); display: flex; justify-content: flex-end; padding: 10px 0; margin-bottom: 40px; border-bottom: 1px solid var(--lightest-navy); overflow-x: auto; }
    .nav-link { padding: 15px 20px; color: var(--light-slate); font-family: var(--font-mono); font-size: 13px; white-space: nowrap; cursor: pointer;}
    .nav-link span { color: var(--green); }
    .nav-link:hover, .nav-link.active { color: var(--green); border-bottom: 2px solid var(--green); }

    section { margin-bottom: 100px; scroll-margin-top: 100px; }
    .sec-head { display: flex; align-items: center; color: var(--white); font-size: 26px; margin-bottom: 30px; font-weight: 700; }
    .sec-head::after { content:""; display: block; height: 1px; flex: 1; background: var(--lightest-navy); margin-left: 20px; }
    .sec-head span { color: var(--green); font-family: var(--font-mono); font-size: 20px; margin-right: 10px; font-weight: 400; }

    /* "What I Do" - Strict 2x2 */
    .service-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
    .service-box { background: var(--light-navy); padding: 25px; border-radius: 8px; border: 1px solid transparent; transition: var(--transition); display: flex; align-items: flex-start; gap: 20px; }
    .service-box:hover { border-color: var(--green); transform: translateY(-5px); box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7); }
    .service-icon { font-size: 2.5rem; color: var(--green); flex-shrink: 0; margin-top: 5px; }
    .service-text h4 { color: var(--white); margin-bottom: 8px; font-size: 1.1rem; }
    .service-text p { font-size: 14px; color: var(--slate); line-height: 1.5; }

    /* Skills Grid */
    .skill-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 20px; }
    .skill-container { margin-bottom: 15px; }
    .skill-info { display: flex; justify-content: space-between; color: var(--white); font-size: 15px; margin-bottom: 8px; font-weight: 600; }
    .progress-bg { background: var(--lightest-navy); height: 6px; border-radius: 3px; overflow: hidden; margin-bottom: 10px; }
    .progress-fill { background: var(--green); height: 100%; border-radius: 3px; }
    .sub-skills { font-family: var(--font-mono); font-size: 12px; color: var(--slate); display: flex; flex-wrap: wrap; gap: 10px; }
    .sub-skill-tag { position: relative; }
    .sub-skill-tag:not(:last-child)::after { content: "•"; margin-left: 10px; color: var(--green); }

    /* --- CERTIFICATIONS (Grid + Image) --- */
    .cert-grid { 
        display: grid; 
        /* Responsive Grid: min 250px wide cards */
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
        gap: 25px; 
    }
    
    .cert-card {
        background: var(--light-navy);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid var(--lightest-navy);
        transition: var(--transition);
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    .cert-card:hover { transform: translateY(-5px); border-color: var(--green); }
    
    .cert-img-box {
        width: 100%;
        height: 160px; /* Fixed height for consistency */
        background-color: var(--lightest-navy);
        overflow: hidden;
        position: relative;
    }
    .cert-img-box img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }
    .cert-card:hover .cert-img-box img { transform: scale(1.05); }
    
    /* Overlay icon if no image or error */
    .cert-placeholder {
        width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;
        color: var(--green); font-size: 3rem;
    }

    .cert-content { padding: 20px; flex: 1; display: flex; flex-direction: column; }
    .cert-meta { font-family: var(--font-mono); font-size: 12px; color: var(--green); margin-bottom: 5px; display: flex; justify-content: space-between; }
    .cert-title { color: var(--white); font-size: 1.1rem; font-weight: 700; margin-bottom: 10px; line-height: 1.3; }
    .cert-desc { font-size: 13px; color: var(--slate); margin-bottom: 20px; flex: 1; }
    .cert-link-btn { 
        align-self: flex-start;
        font-family: var(--font-mono); 
        font-size: 12px; 
        color: var(--white);
        border: 1px solid var(--lightest-navy);
        padding: 8px 15px;
        border-radius: 4px;
        display: flex; align-items: center; gap: 5px;
    }
    .cert-link-btn:hover { border-color: var(--green); color: var(--green); }


    /* Timeline */
    .timeline { border-left: 2px solid var(--lightest-navy); margin-left: 5px; padding-left: 25px; margin-bottom: 50px; }
    .t-item { position: relative; margin-bottom: 50px; }
    .t-item::before { content: ""; position: absolute; left: -31px; top: 0; width: 10px; height: 10px; background: var(--green); border-radius: 50%; border: 2px solid var(--navy); }
    .meta-row { display: flex; align-items: center; gap: 10px; color: var(--slate); font-size: 14px; margin-bottom: 5px; font-family: var(--font-mono); }
    .meta-row.highlight { color: var(--white); font-size: 18px; font-family: var(--font-sans); font-weight: 600; margin-bottom: 8px; }
    .meta-row.company { color: var(--green); font-size: 15px; margin-bottom: 8px; }
    .t-desc li { margin-bottom: 8px; position: relative; padding-left: 18px; font-size: 15px; color: var(--slate); }
    .t-desc li::before { content: "▹"; position: absolute; left: 0; color: var(--green); }
    .p-tags { display: flex; flex-wrap: wrap; gap: 10px; font-family: var(--font-mono); font-size: 12px; color: var(--green); margin-top: 15px; }

    /* Portfolio */
    .filter-list { display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
    .filter-btn { color: var(--slate); font-family: var(--font-mono); font-size: 13px; }
    .filter-btn.active { color: var(--green); text-decoration: underline; }
    .project-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px; }
    .project-card { background: var(--light-navy); border-radius: 6px; overflow: hidden; display: flex; flex-direction: column; border: 1px solid transparent; transition: var(--transition); position: relative; }
    .project-card:hover { transform: translateY(-7px); border-color: var(--green); }
    .carousel-container { width: 100%; aspect-ratio: 16/9; overflow: hidden; position: relative; background: #000; }
    .carousel-slides { display: flex; height: 100%; transition: transform 0.5s ease-in-out; }
    .carousel-slides img { min-width: 100%; height: 100%; object-fit: cover; object-position: top center; }
    .p-content { padding: 25px; flex: 1; display: flex; flex-direction: column; }
    .p-title { color: var(--white); font-size: 1.3rem; margin-bottom: 10px; font-weight: 700; cursor: pointer; }
    .p-title:hover { color: var(--green); }
    .p-desc ul { list-style: none; padding: 0; margin-bottom: 15px; }
    .p-desc li { position: relative; padding-left: 15px; margin-bottom: 5px; font-size: 14px; }
    .p-desc li::before { content: "▹"; position: absolute; left: 0; color: var(--green); }
    .btn-project { display: inline-block; margin-top: auto; border: 1px solid var(--green); color: var(--green); padding: 8px 15px; font-family: var(--font-mono); font-size: 12px; border-radius: 4px; text-align: center; }
    .btn-project:hover { background: rgba(100, 255, 218, 0.1); }

    /* GitHub */
    .github-controls { margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
    .gh-btn-group { display: flex; gap: 10px; }
    .gh-btn { border: 1px solid var(--lightest-navy); padding: 5px 10px; border-radius: 4px; color: var(--slate); font-size: 12px; font-family: var(--font-mono); }
    .gh-btn.active, .gh-btn:hover { border-color: var(--green); color: var(--green); }
    .api-notice { font-family: var(--font-mono); font-size: 11px; color: var(--green); background: rgba(100,255,218,0.1); padding: 5px 10px; border-radius: 4px; }
    .github-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .repo-card { background: var(--light-navy); padding: 20px; border-radius: 4px; border: 1px solid var(--lightest-navy); transition: var(--transition); display: flex; flex-direction: column; height: 100%; }
    .repo-card:hover { transform: translateY(-5px); border-color: var(--green); }
    .repo-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .repo-stats { display: flex; gap: 15px; font-family: var(--font-mono); font-size: 12px; color: var(--light-slate); margin-top: auto; }

    /* Contact */
    .contact-container { background: var(--light-navy); padding: 40px; border-radius: 8px; }
    .contact-msg { margin-bottom: 30px; font-size: 1.1rem; color: var(--slate); max-width: 600px; }
    .contact-details-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
    .contact-card { background: var(--navy); padding: 20px; border-radius: 6px; border: 1px solid var(--lightest-navy); transition: var(--transition); display: flex; align-items: center; gap: 15px; }
    .contact-card:hover { border-color: var(--green); transform: translateY(-3px); }
    .contact-card-icon { font-size: 24px; color: var(--green); display: flex; align-items: center; justify-content: center; }
    .contact-card-info h5 { color: var(--light-slate); font-size: 0.8rem; letter-spacing: 1px; margin-bottom: 4px; text-transform: uppercase;}
    .contact-card-info span, .contact-card-info a { color: var(--white); font-weight: 600; font-size: 0.95rem; }

    /* Responsive */
    @media (max-width: 900px) {
      .hero-content { flex-direction: column-reverse; padding-top: 80px; text-align: center; }
      .hero-text { max-width: 100%; }
      .hero-btns, .hero-tags, .hero-mini-socials { justify-content: center; }
      .hero-img-box { width: 300px; height: 380px; margin: 0 auto; }
      .hero-desc { margin: 0 auto 30px; }
      .container { flex-direction: column; }
      .sidebar { width: 100%; position: static; margin-bottom: 40px; }
      .navbar { justify-content: flex-start; }
      .service-grid, .skill-grid, .cert-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-text">
        <p class="hero-subtitle" id="h-welcome">HEY THERE ! WELCOME TO MY PORTFOLIO.</p>
        <h1 class="hero-name" id="h-name">Loading...</h1>
        <h2 class="hero-role" id="h-title"></h2>
        <p class="hero-desc" id="h-desc"></p>
        <span class="expertise-label">Expertise in:</span>
        <div class="hero-tags" id="h-tags"></div>
        <div class="hero-btns">
           <a href="#contact" class="btn-primary">Get in Touch <ion-icon name="arrow-forward-outline"></ion-icon></a>
           <a href="#github" class="btn-secondary"><ion-icon name="logo-github"></ion-icon> GitHub</a>
        </div>
        <div class="hero-mini-socials" id="h-socials"></div>
      </div>
      <div class="hero-image-wrapper">
         <div class="img-backdrop"></div>
         <div class="hero-img-box">
             <img id="h-avatar" src="" alt="Profile">
         </div>
      </div>
    </div>
    <div class="scroll-down"><span>Scroll to explore</span><ion-icon name="arrow-down-outline"></ion-icon></div>
  </section>

  <div class="main-wrapper">
    <div class="container">
      
      <aside class="sidebar">
        <img id="s-avatar" class="sidebar-img" src="" alt="Avatar">
        <h2 id="s-name"></h2>
        <span id="s-role" class="sidebar-role"></span>
        <div class="contact-info" id="s-contact"></div>
        <div class="socials" id="s-social"></div>
      </aside>

      <div class="content">
        <nav class="navbar">
          <a href="#about" class="nav-link"><span>01.</span> About</a>
          <a href="#resume" class="nav-link"><span>02.</span> Experience</a>
          <a href="#certifications" class="nav-link"><span>03.</span> Certifications</a>
          <a href="#portfolio" class="nav-link"><span>04.</span> Portfolio</a>
          <a href="#github" class="nav-link"><span>05.</span> Github</a>
          <a href="#contact" class="nav-link"><span>06.</span> Contact</a>
        </nav>

        <section id="about">
          <h2 class="sec-head"><span>01.</span> About Me</h2>
          <div id="about-txt"></div>
          
          <h3 style="color:var(--white); margin:30px 0 20px;">What I'm Doing</h3>
          
          <div class="service-grid" id="service-list"></div>

          <h3 style="color:var(--white); margin:40px 0 20px;">Technical Skills</h3>
          <div class="skill-grid" id="skill-list"></div>
        </section>

        <section id="resume">
          <h2 class="sec-head"><span>02.</span> Experience</h2>
          <div class="timeline" id="exp-list"></div>

          <h2 class="sec-head" style="margin-top:60px;"><span>02b.</span> Education</h2>
          <div class="timeline" id="edu-list"></div>
        </section>

        <section id="certifications">
            <h2 class="sec-head"><span>03.</span> Certifications</h2>
            <div class="cert-grid" id="cert-list">
                </div>
        </section>

        <section id="portfolio">
          <h2 class="sec-head"><span>04.</span> Portfolio</h2>
          <div class="filter-list" id="filters"></div>
          <div class="project-grid" id="projects"></div>
        </section>

        <section id="github">
          <h2 class="sec-head"><span>05.</span> Open Source</h2>
          <div class="github-controls">
             <div class="gh-btn-group">
                <button class="gh-btn active" onclick="updateGithubLimit(6, this)">6</button>
                <button class="gh-btn" onclick="updateGithubLimit(9, this)">9</button>
                <button class="gh-btn" onclick="updateGithubLimit(100, this)">All</button>
             </div>
             <div id="api-notice" class="api-notice"></div>
          </div>
          <div class="github-grid" id="github-list"><p>Loading Repositories...</p></div>
        </section>

        <section id="contact">
          <h2 class="sec-head"><span>06.</span> Contact</h2>
          <div class="contact-container">
            <p class="contact-msg">I am currently available for freelance work or full-time opportunities. If you have a project that needs some creative data solutions, feel free to reach out!</p>
            <div class="contact-details-grid">
                <div class="contact-card">
                    <div class="contact-card-icon"><ion-icon name="mail-outline"></ion-icon></div>
                    <div class="contact-card-info"><h5>Email Address</h5><span id="c-email">email@example.com</span></div>
                </div>
                <div class="contact-card">
                    <div class="contact-card-icon"><ion-icon name="call-outline"></ion-icon></div>
                    <div class="contact-card-info"><h5>Phone</h5><span id="c-phone">+1 234 567 890</span></div>
                </div>
                <a href="#" target="_blank" class="contact-card" id="c-linkedin">
                    <div class="contact-card-icon"><ion-icon name="logo-linkedin"></ion-icon></div>
                    <div class="contact-card-info"><h5>LinkedIn</h5><span>Connect with me</span></div>
                </a>
                <a href="#" target="_blank" class="contact-card" id="c-github">
                    <div class="contact-card-icon"><ion-icon name="logo-github"></ion-icon></div>
                    <div class="contact-card-info"><h5>GitHub</h5><span>Follow me</span></div>
                </a>
            </div>
            <div style="margin-top:30px; text-align:center;">
                <a id="cv-btn" href="#" target="_blank" style="color:var(--green); font-family:var(--font-mono); font-size:14px; border-bottom:1px solid var(--green);">Download Resume</a>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    let githubRepos = []; 

    fetch('data.json')
      .then(response => {
        if (!response.ok) {
            throw new Error("HTTP error " + response.status + " reading data.json");
        }
        return response.json();
      })
      .then(data => {
        initPersonal(data);
        initAbout(data);
        initResume(data);
        initCertifications(data); 
        initPortfolio(data);
        
        // Contact & Socials
        if(data.personal.email) document.getElementById('c-email').textContent = data.personal.email;
        if(data.personal.phone) document.getElementById('c-phone').textContent = data.personal.phone;
        
        const lnk = document.getElementById('c-linkedin');
        if(data.personal.social && data.personal.social.linkedin) {
            lnk.href = data.personal.social.linkedin;
        } else {
            lnk.style.display = 'none';
        }

        const git = document.getElementById('c-github');
        if(data.personal.social && data.personal.social.github) {
            git.href = data.personal.social.github;
        } else {
            git.style.display = 'none';
        }

        if(data.github && data.github.username) {
            document.getElementById('api-notice').textContent = data.github.notice;
            fetchGithub(data.github.username);
        } else {
             document.getElementById('github-list').innerHTML = '<p>No GitHub username provided in data.json</p>';
        }

        document.title = data.personal.name;
        startCarousels();
      })
      .catch(error => {
        console.error('Error loading data:', error);
        document.body.innerHTML = `<div style="color:white; text-align:center; padding:50px;">
            <h1>Error Loading Site</h1>
            <p>Could not load data.json. Check Console for details.</p>
        </div>`;
      });

    function initPersonal(data) {
        document.getElementById('h-welcome').textContent = data.about.welcomeText.toUpperCase();
        document.getElementById('h-name').textContent = data.personal.name;
        const titleText = Array.isArray(data.personal.title) ? data.personal.title.join(" & ") : data.personal.title;
        document.getElementById('h-title').textContent = titleText;
        document.getElementById('h-desc').textContent = data.about.description[0];
        document.getElementById('h-avatar').src = data.personal.avatar;

        const tagsDiv = document.getElementById('h-tags');
        data.about.expertise.forEach(tag => { tagsDiv.innerHTML += `<span class="h-tag">${tag}</span>`; });

        const miniSocials = document.getElementById('h-socials');
        const map = {'linkedin': 'logo-linkedin', 'github': 'logo-github', 'website': 'globe-outline'};
        if(data.personal.social) {
            for(let k in data.personal.social) {
                if(data.personal.social[k] && data.personal.social[k] !== "#") {
                    miniSocials.innerHTML += `<a href="${data.personal.social[k]}" target="_blank"><ion-icon name="${map[k] || 'link'}"></ion-icon></a>`;
                }
            }
        }

        document.getElementById('s-avatar').src = data.personal.avatar;
        document.getElementById('s-name').textContent = data.personal.name;
        
        // Dynamic Sidebar Role (JSON first, fallback to title)
        let roleText = "Data Scientist"; 
        if (data.personal.role) {
            roleText = Array.isArray(data.personal.role) ? data.personal.role.join(" & ") : data.personal.role;
        } else if (data.personal.title) {
             roleText = Array.isArray(data.personal.title) ? data.personal.title[0] : data.personal.title;
        }
        document.getElementById('s-role').textContent = roleText;
        
        const sidebarContact = document.getElementById('s-contact');
        sidebarContact.innerHTML = ''; 
        if(data.personal.email) sidebarContact.innerHTML += `<div class="c-item"><ion-icon name="mail-outline"></ion-icon> <a href="mailto:${data.personal.email}">${data.personal.email}</a></div>`;
        if(data.personal.phone) sidebarContact.innerHTML += `<div class="c-item"><ion-icon name="call-outline"></ion-icon> ${data.personal.phone}</div>`;
        if(data.personal.location) sidebarContact.innerHTML += `<div class="c-item"><ion-icon name="location-outline"></ion-icon> ${data.personal.location}</div>`;
        
        const socialDiv = document.getElementById('s-social');
        socialDiv.innerHTML = '';
        if(data.personal.social) {
            for(let k in data.personal.social) {
                if(data.personal.social[k] && data.personal.social[k] !== "#") {
                    socialDiv.innerHTML += `<a href="${data.personal.social[k]}" target="_blank"><ion-icon name="${map[k] || 'link'}"></ion-icon></a>`;
                }
            }
        }
        if(data.contact && data.contact.resumePdf) document.getElementById('cv-btn').href = data.contact.resumePdf;
    }

    function initAbout(data) {
        if(data.about.description) {
            data.about.description.forEach(t => document.getElementById('about-txt').innerHTML += `<p style="margin-bottom:10px;">${t}</p>`);
        }
        
        const serviceContainer = document.getElementById('service-list');
        serviceContainer.innerHTML = ''; 

        const iconMap = {
            "Data Analysis": "bar-chart-outline",
            "Data Visualization": "pie-chart-outline",
            "AI / ML": "hardware-chip-outline",
            "Tools & Platforms": "terminal-outline"
        };
        const defaultIcon = "code-slash-outline";

        if(data.about.services) {
            data.about.services.forEach(s => {
                const iconName = iconMap[s.title] || defaultIcon;
                serviceContainer.innerHTML += `
                <div class="service-box">
                    <div class="service-icon"><ion-icon name="${iconName}"></ion-icon></div>
                    <div class="service-text">
                        <h4>${s.title}</h4>
                        <p>${s.description}</p>
                    </div>
                </div>`;
            });
        }

        const skillDiv = document.getElementById('skill-list');
        if(data.resume.skills) {
            data.resume.skills.forEach(skill => {
            const subSkills = skill.subskills || []; 
            const subSkillHtml = subSkills.map(s => `<span class="sub-skill-tag">${s}</span>`).join('');
            skillDiv.innerHTML += `
                <div class="skill-container">
                <div class="skill-info"><span>${skill.name}</span></div>
                <div class="progress-bg"><div class="progress-fill" style="width:${skill.percentage}%"></div></div>
                <div class="sub-skills">${subSkillHtml}</div>
                </div>`;
            });
        }
    }

    function initResume(data) {
        const expDiv = document.getElementById('exp-list');
        if(data.experience) {
            data.experience.forEach(j => {
                const desc = j.description.map(d => `<li>${d}</li>`).join('');
                const skills = j.skills ? j.skills.map(s => `<span>#${s}</span>`).join(' ') : '';
                expDiv.innerHTML += `
                <div class="t-item">
                    <div class="meta-row highlight"><ion-icon name="briefcase-outline"></ion-icon> ${j.position}</div>
                    <div class="meta-row company"><ion-icon name="business-outline"></ion-icon> ${j.company}</div>
                    <div class="meta-row"><ion-icon name="calendar-outline"></ion-icon> ${j.period}</div>
                    <div class="meta-row"><ion-icon name="location-outline"></ion-icon> ${j.location}</div>
                    <ul class="t-desc" style="margin-top:15px; margin-bottom:15px;">${desc}</ul>
                    <div class="p-tags">${skills}</div>
                </div>`;
            });
        }

        const eduDiv = document.getElementById('edu-list');
        if(data.resume.education) {
            data.resume.education.forEach(e => {
                eduDiv.innerHTML += `
                <div class="t-item">
                    <div class="meta-row highlight"><ion-icon name="school-outline"></ion-icon> ${e.degree}</div>
                    <div class="meta-row company"><ion-icon name="business-outline"></ion-icon> ${e.institution}</div>
                    <div class="meta-row"><ion-icon name="calendar-outline"></ion-icon> ${e.period}</div>
                    <p style="font-size:14px; margin-top:10px;">${e.description}</p>
                </div>`;
            });
        }
    }

    function initCertifications(data) {
        const certContainer = document.getElementById('cert-list');
        const certs = data.resume.certifications || data.certifications || [];
        
        if(certs.length === 0) {
            certContainer.innerHTML = '<p style="color:var(--slate)">No certifications listed.</p>';
            return;
        }

        certs.forEach(cert => {
            let imgHtml = '';
            if(cert.image) {
                imgHtml = `<img src="${cert.image}" onerror="this.parentElement.innerHTML='<ion-icon name=\\'ribbon-outline\\' class=\\'cert-placeholder\\'></ion-icon>'">`;
            } else {
                imgHtml = `<ion-icon name="ribbon-outline" class="cert-placeholder"></ion-icon>`;
            }

            let btnHtml = '';
            if(cert.link && cert.link !== "#") {
                btnHtml = `<a href="${cert.link}" target="_blank" class="cert-link-btn">Verify Credential <ion-icon name="open-outline"></ion-icon></a>`;
            }

            certContainer.innerHTML += `
            <div class="cert-card">
                <div class="cert-img-box">
                    ${imgHtml}
                </div>
                <div class="cert-content">
                    <div class="cert-meta">
                        <span>${cert.issuer}</span>
                        <span>${cert.year}</span>
                    </div>
                    <h4 class="cert-title">${cert.title}</h4>
                    <p class="cert-desc">${cert.description}</p>
                    ${btnHtml}
                </div>
            </div>`;
        });
    }

    // --- FIX: Updated Portfolio Function (No External Placeholders) ---
    function initPortfolio(data) {
        if(!data.portfolio) return;
        const filters = document.getElementById('filters');
        
        // Reset filters to avoid duplication
        filters.innerHTML = ''; 
        data.portfolio.filters.forEach((f, i) => {
            filters.innerHTML += `<button class="filter-btn ${i===0?'active':''}" onclick="filterProjects(this, '${f}')">${f}</button>`;
        });

        const grid = document.getElementById('projects');
        grid.innerHTML = ''; // Clear projects

        data.portfolio.projects.forEach((p, idx) => {
            const cats = Array.isArray(p.category) ? p.category.join(',') : p.category;
            const desc = Array.isArray(p.description) ? `<ul>${p.description.map(d=>`<li>${d}</li>`).join('')}</ul>` : `<p>${p.description}</p>`;
            
            let mediaHtml = '';
            
            if(p.images && p.images.length > 0) {
                 // --- FIX: Just hide image on error, do NOT fetch via.placeholder ---
                 const imgs = p.images.map(src => {
                     return `<img src="${src}" alt="${p.title}" onerror="this.style.display='none'">`;
                 }).join('');
                 
                 const carouselClass = p.images.length > 1 ? 'carousel-slides' : 'static-img';
                 mediaHtml = `
                    <div class="carousel-container">
                        <a href="${p.link}" target="_blank" class="${carouselClass}">
                            ${imgs}
                        </a>
                    </div>`;
            } else {
                 // Default Folder Icon if no images list exists in JSON
                 mediaHtml = `<div class="carousel-container" style="background:#112240; display:flex; align-items:center; justify-content:center; color:var(--green); font-size:40px;"><ion-icon name="folder-open"></ion-icon></div>`;
            }

            const btnText = p.btnText || "View Project";
            
            grid.innerHTML += `
               <div class="project-card proj-item" data-cat="${cats}">
                  ${mediaHtml}
                  <div class="p-content">
                      <a href="${p.link}" target="_blank"><h3 class="p-title">${p.title}</h3></a>
                      <div class="p-desc">${desc}</div>
                      <div class="p-tags">
                         ${Array.isArray(p.category) ? p.category.map(c=>`#${c}`).join(' ') : `#${p.category}`}
                      </div>
                      ${p.link ? `<a href="${p.link}" target="_blank" class="btn-project">${btnText}</a>` : ''}
                  </div>
               </div>`;
        });
    }

    function startCarousels() {
        const sliders = document.querySelectorAll('.carousel-slides');
        sliders.forEach(slider => {
            const images = slider.querySelectorAll('img');
            const count = images.length;
            if(count < 2) return;
            let currentIndex = 0;
            setInterval(() => {
                currentIndex++;
                if(currentIndex >= count) currentIndex = 0;
                const translateX = -(currentIndex * 100);
                slider.style.transform = `translateX(${translateX}%)`;
            }, 3000);
        });
    }

    async function fetchGithub(username) {
        const container = document.getElementById('github-list');
        try {
            const res = await fetch(`https://api.github.com/users/${username}/repos?sort=updated&per_page=100`);
            
            if(res.status === 403) {
                throw new Error("GitHub API Limit Reached (Wait 1hr)");
            }
            if(!res.ok) {
                throw new Error("GitHub User Not Found");
            }
            
            githubRepos = await res.json();
            
            if(githubRepos.length === 0) {
                 container.innerHTML = '<p>No public repositories found.</p>';
                 return;
            }
            renderGithub(6);
            
        } catch(e) {
            console.error(e);
            container.innerHTML = `<p style="color:var(--slate); border:1px solid red; padding:10px; border-radius:4px;">${e.message}</p>`;
        }
    }

    function renderGithub(limit) {
        const container = document.getElementById('github-list');
        container.innerHTML = '';
        const displayRepos = limit >= 100 ? githubRepos : githubRepos.slice(0, limit);
        displayRepos.forEach(repo => {
             container.innerHTML += `
                <a href="${repo.html_url}" target="_blank" class="repo-card">
                   <div class="repo-top">
                      <ion-icon name="folder-outline" style="font-size:30px; color:var(--green)"></ion-icon>
                      <ion-icon name="open-outline" style="font-size:20px; color:var(--slate)"></ion-icon>
                   </div>
                   <h3 class="repo-title" style="color:var(--white); font-weight:700; margin-bottom:10px;">${repo.name}</h3>
                   <p class="repo-desc" style="font-size:13px; color:var(--slate); margin-bottom:15px; flex-grow:1;">${repo.description || "No description provided."}</p>
                   <div class="repo-stats">
                      <span>${repo.language || "Code"}</span>
                      <span style="display:flex; align-items:center; gap:5px;"><ion-icon name="star-outline"></ion-icon> ${repo.stargazers_count}</span>
                      <span style="display:flex; align-items:center; gap:5px;"><ion-icon name="git-network-outline"></ion-icon> ${repo.forks_count}</span>
                   </div>
                </a>`;
        });
    }

    function updateGithubLimit(limit, btn) {
        document.querySelectorAll('.gh-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderGithub(limit);
    }

    function filterProjects(btn, cat) {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        document.querySelectorAll('.proj-item').forEach(item => {
            if(cat === 'All' || item.dataset.cat.includes(cat)) item.style.display = 'flex';
            else item.style.display = 'none';
        });
    }

    // --- SCROLL NAVIGATION LOGIC ---
    window.addEventListener('scroll', () => {
        const sections = document.querySelectorAll('section');
        const links = document.querySelectorAll('.nav-link');
        let current = '';

        // If we hit the bottom of the page, forcefully select 'Contact'
        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 50) {
             current = 'contact'; 
        } else {
             sections.forEach(s => {
                 // Trigger active state 300px before reaching the exact top
                 if(window.scrollY >= (s.offsetTop - 300)) {
                     current = s.getAttribute('id');
                 }
             });
        }

        links.forEach(l => {
            l.classList.remove('active');
            if(l.getAttribute('href').includes(current)) {
                l.classList.add('active');
            }
        });
        
        // Hero Fade Effect
        const hero = document.querySelector('.hero-content');
        if(window.scrollY < 800) {
            hero.style.opacity = 1 - (window.scrollY / 600);
            hero.style.transform = `translateY(${window.scrollY * 0.4}px)`;
        }
    });
  </script>
</body>
</html>
